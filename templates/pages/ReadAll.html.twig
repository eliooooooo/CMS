{% extends "page.html.twig" %}

{% block title %}ReadAll{% endblock %}

{% block content %}

    <h1>ReadAll</h1>
    <form method="post" action="index.php?page=element&action=create">
            <input type="text" name="balise" value="{{element.balise}}">
            <input type="text" name="contenu" value="{{element.contenu}}">
            <input type="text" name="class" value="{{element.class}}">
            <input type="text" name="src" value="{{element.src}}">
            <input type="text" name="alt" value="{{element.alt}}">
            <input type="submit" value="Create">
    </form>
    {% if element %}
        {% for element in element %}
            {% include 'affichage/affichage_readall.html.twig' %}
        {% endfor %}
    {% elseif article %}
        {% for article in article %}
            <article class="article--full">
                <h1 class="article__title">{{ article.h1 }}</h1>
                {% if article.h2 %}
                    <h2 class="article__subtitle">{{ article.h2 }}</h2>
                {% endif %}
                {% if article.elements %}
                    {% for element in article.elements %}
                        {% include 'affichage/affichage_readall.html.twig' %}
                    {% endfor %}
                {% else %}
                    <p>Aucun contenu existant pour cet article</p>
                {% endif %}
                <p class="author" > {{ article.auteur }} </p>
            </article>
        {% endfor %}
    {% elseif categorie %}
        {{ dump(categorie)}}
        <hr>
        {{ dump(categorie.0) }}
        <h1> {{ categorie.categorie.nom }} </h1>
        <p>{{ categorie.categorie.description }}</p>
        {# <img src="{{categorie.categorie.image}}" alt="{{categorie.categorie.nom}}"> #}
        {% if categorie.article %}
          {% for article in categorie.article %}
              <h2>{{ article.h1 }}</h2>
              {% if article.h2 %}
              <h3>{{ article.h2 }}</h3>
              {% endif %}
              {% if article.elements %}
                  {% for element in article.elements %}
                      {% include 'affichage/affichage_readall.html.twig' %}
                  {% endfor %} 
              {% endif %}
          {% endfor %}
        {% else %}
          <p>Aucun article Ã  afficher</p>
        {% endif %}
    {% else %}
        <p>Aucun articles existant</p>
    {% endif %}


{% endblock %}
